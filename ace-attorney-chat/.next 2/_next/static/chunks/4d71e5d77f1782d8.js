(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),r=e.i(31178),n=e.i(47414),a=e.i(74008),l=e.i(21476),i=e.i(72846),o=s,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,s=(0,i.isHTMLElement)(e)&&e.offsetWidth||0,r=(0,i.isHTMLElement)(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=s-n.width-n.left,n.bottom=r-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:r,anchorX:n,anchorY:a,root:l,pop:i}){let m=(0,o.useId)(),x=(0,o.useRef)(null),f=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=(0,o.useContext)(c.MotionConfigContext),h=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=d(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():d(e[t],null)}}}}(...e),e)}(x,e.props?.ref??e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:o,right:c,bottom:d}=f.current;if(r||!1===i||!x.current||!e||!t)return;let u="left"===n?`left: ${o}`:`right: ${c}`,h="bottom"===a?`bottom: ${d}`:`top: ${s}`;x.current.dataset.motionPopId=m;let y=document.createElement("style");p&&(y.nonce=p);let g=l??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${h}px !important;
          }
        `),()=>{g.contains(y)&&g.removeChild(y)}},[r]),(0,t.jsx)(u,{isPresent:r,childRef:x,sizeRef:f,pop:i,children:!1===i?e:o.cloneElement(e,{ref:h})})}let x=({children:e,initial:r,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:d,anchorX:u,anchorY:x,root:p})=>{let h=(0,n.useConstant)(f),y=(0,s.useId)(),g=!0,b=(0,s.useMemo)(()=>(g=!1,{id:y,initial:r,isPresent:a,custom:o,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[a,h,i]);return c&&g&&(b={...b}),(0,s.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[a]),s.useEffect(()=>{a||h.size||!i||i()},[a]),e=(0,t.jsx)(m,{pop:"popLayout"===d,isPresent:a,anchorX:u,anchorY:x,root:p,children:e}),(0,t.jsx)(l.PresenceContext.Provider,{value:b,children:e})};function f(){return new Map}var p=e.i(64978);let h=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:l,initial:i=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",anchorY:f="top",root:g})=>{let[b,v]=(0,p.usePresence)(u),j=(0,s.useMemo)(()=>y(e),[e]),N=u&&!b?[]:j.map(h),w=(0,s.useRef)(!0),P=(0,s.useRef)(j),k=(0,n.useConstant)(()=>new Map),H=(0,s.useRef)(new Set),[C,E]=(0,s.useState)(j),[$,S]=(0,s.useState)(j);(0,a.useIsomorphicLayoutEffect)(()=>{w.current=!1,P.current=j;for(let e=0;e<$.length;e++){let t=h($[e]);N.includes(t)?(k.delete(t),H.current.delete(t)):!0!==k.get(t)&&k.set(t,!1)}},[$,N.length,N.join("-")]);let R=[];if(j!==C){let e=[...j];for(let t=0;t<$.length;t++){let s=$[t],r=h(s);N.includes(r)||(e.splice(t,0,s),R.push(s))}return"wait"===d&&R.length&&(e=R),S(y(e)),E(j),null}let{forceRender:B}=(0,s.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:$.map(e=>{let s=h(e),r=(!u||!!b)&&(j===$||N.includes(s));return(0,t.jsx)(x,{isPresent:r,initial:(!w.current||!!i)&&void 0,custom:l,presenceAffectsLayout:c,mode:d,root:g,onExitComplete:r?void 0:()=>{if(H.current.has(s)||(H.current.add(s),!k.has(s)))return;k.set(s,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(B?.(),S(P.current),u&&v?.(),o&&o())},anchorX:m,anchorY:f,children:e},s)})})};e.s(["AnimatePresence",()=>g],88653)},86489,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(46932),n=e.i(88653);function a(e,t){let s=e/t;return s>.6?"#22c55e":s>.35?"#eab308":s>.15?"#f97316":"#ef4444"}function l({damage:e,side:s}){return e<=0?null:(0,t.jsxs)(r.motion.span,{initial:{opacity:1,y:0},animate:{opacity:0,y:-30},transition:{duration:1.2},className:`absolute top-0 text-sm font-black pointer-events-none ${"left"===s?"left-2":"right-2"}`,style:{color:"#ef4444",textShadow:"0 0 8px rgba(239,68,68,0.6)"},children:["-",e]})}function i({health:e,lastDamageToAttorney:i=0,lastDamageToDefendant:o=0}){let[c,d]=(0,s.useState)(0);(0,s.useEffect)(()=>{(i>0||o>0)&&d(e=>e+1)},[i,o]);let u=e.attorneyHP/e.maxHP*100,m=e.defendantHP/e.maxHP*100,x=a(e.attorneyHP,e.maxHP),f=a(e.defendantHP,e.maxHP);return(0,t.jsxs)("div",{className:"flex items-center gap-3 px-5 py-2.5 shrink-0",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wider",style:{color:"var(--primary)"},children:"PROSECUTION"}),(0,t.jsx)("span",{className:"text-[10px] font-medium tabular-nums",style:{color:x},children:e.attorneyHP})]}),(0,t.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.06)"},children:(0,t.jsx)(r.motion.div,{className:"h-full rounded-full",style:{background:x,originX:0},animate:{width:`${u}%`},transition:{duration:.6,ease:"easeOut"}})}),(0,t.jsx)(n.AnimatePresence,{mode:"popLayout",children:i>0&&(0,t.jsx)(l,{damage:i,side:"left"},`att-${c}`)})]}),(0,t.jsx)("div",{className:"flex flex-col items-center shrink-0 px-1",children:(0,t.jsx)("span",{className:"text-[9px] font-semibold tracking-widest",style:{color:"var(--text-muted)"},children:"VS"})}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium tabular-nums",style:{color:f},children:e.defendantHP}),(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wider",style:{color:"var(--accent)"},children:"DEFENSE"})]}),(0,t.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.06)"},children:(0,t.jsx)(r.motion.div,{className:"h-full rounded-full ml-auto",style:{background:f,originX:1},animate:{width:`${m}%`},transition:{duration:.6,ease:"easeOut"}})}),(0,t.jsx)(n.AnimatePresence,{mode:"popLayout",children:o>0&&(0,t.jsx)(l,{damage:o,side:"right"},`def-${c}`)})]})]})}function o({health:e}){let s=e.attorneyHP/e.maxHP*100,r=e.defendantHP/e.maxHP*100,n=a(e.attorneyHP,e.maxHP),l=a(e.defendantHP,e.maxHP);return(0,t.jsxs)("div",{className:"flex items-center gap-3 px-5 py-2.5",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wider",style:{color:"var(--primary)"},children:"PROSECUTION"}),(0,t.jsx)("span",{className:"text-[10px] font-medium tabular-nums",style:{color:n},children:e.attorneyHP})]}),(0,t.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.06)"},children:(0,t.jsx)("div",{className:"h-full rounded-full",style:{background:n,width:`${s}%`}})})]}),(0,t.jsx)("span",{className:"text-[9px] font-semibold tracking-widest shrink-0 px-1",style:{color:"var(--text-muted)"},children:"VS"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium tabular-nums",style:{color:l},children:e.defendantHP}),(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wider",style:{color:"var(--accent)"},children:"DEFENSE"})]}),(0,t.jsx)("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.06)"},children:(0,t.jsx)("div",{className:"h-full rounded-full ml-auto",style:{background:l,width:`${r}%`}})})]})]})}e.s(["HealthBar",()=>i,"HealthBarStatic",()=>o])},37768,e=>{"use strict";var t=e.i(43476),s=e.i(46932);function r({message:e}){let r="attorney"===e.sender,n=e.intensity??1;return(0,t.jsxs)(s.motion.div,{initial:r?n>=7?{opacity:0,scale:.9}:{opacity:0,x:-20}:{opacity:0,x:20},animate:{opacity:1,x:0,scale:1},transition:{duration:n>=7?.4:.3,type:n>=7?"spring":"tween"},className:`flex flex-col max-w-[82%] my-1.5 px-5 ${r?"self-start":"self-end"}`,children:[(0,t.jsx)("span",{className:`text-[10px] font-medium tracking-wider mb-1 ${r?"text-left":"text-right"}`,style:{color:r?"var(--primary)":"var(--accent)"},children:r?"PROSECUTION":"YOU"}),(0,t.jsx)("div",{className:`rounded-2xl px-4 py-3.5 ${r?"rounded-tl-md":"rounded-tr-md"}`,style:{background:r?"var(--attorney-bubble)":"var(--user-bubble)",transform:`scale(${n>=4?1+(n-4)*.008:1})`,boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},children:(0,t.jsx)("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap",style:{color:r?"var(--attorney-text)":"var(--user-text)"},children:e.text})})]})}e.s(["MessageBubble",()=>r])},30586,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),n=e.i(46932),a=e.i(11795),l=e.i(86489),i=e.i(37768);function o(){let e=(0,r.useRouter)(),o=(0,r.useParams)().id,c=(0,a.createClient)(),[d,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(""),[f,p]=(0,s.useState)(!0),[h,y]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{!async function(){let{data:e,error:t}=await c.from("arguments").select("*").eq("id",o).eq("is_public",!0).single();if(t||!e){y(!0),p(!1);return}u({id:e.id,user_id:e.user_id,caseData:e.case_data,messages:e.messages,outcome:e.outcome,finalHealth:e.final_health,exchangeCount:e.exchange_count,score:e.score??0,starred:!1,is_public:!0,createdAt:new Date(e.created_at).getTime()});let{data:s}=await c.from("profiles").select("display_name").eq("id",e.user_id).single();s&&x(s.display_name),p(!1)}()},[o]),f)return(0,t.jsx)("div",{className:"flex items-center justify-center h-dvh",style:{background:"var(--bg)"},children:(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"var(--primary)",borderTopColor:"transparent"}})});if(h||!d)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-dvh gap-4",style:{background:"var(--bg)"},children:[(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"This argument doesn't exist or is private."}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"text-sm px-4 py-2 rounded-full cursor-pointer",style:{color:"var(--primary)"},children:"Go Home"})]});let g={won:{label:"Not Guilty",color:"#34D399"},lost:{label:"Guilty",color:"#F87171"},"in-progress":{label:"In Progress",color:"#E0B97A"}}[d.outcome];return(0,t.jsxs)("div",{className:"flex flex-col h-dvh",style:{background:"var(--bg)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-5 py-3.5 shrink-0",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"text-sm px-3.5 py-1.5 rounded-full border cursor-pointer hover:bg-white/5 transition-all duration-150",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:"Home"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h1",{className:"text-sm font-medium text-white truncate",children:d.caseData.title}),(0,t.jsxs)("p",{className:"text-[11px] truncate mt-0.5",style:{color:"var(--text-muted)"},children:[m&&`by ${m} \u00B7 `,d.exchangeCount," rounds Â· +",d.score," pts"]})]}),(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wide px-2.5 py-1 rounded-full shrink-0",style:{color:g.color,background:`${g.color}18`},children:g.label})]}),(0,t.jsx)(l.HealthBarStatic,{health:d.finalHealth}),(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"px-5 py-3 shrink-0",style:{background:"rgba(255,255,255,0.02)",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:(0,t.jsxs)("p",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("span",{style:{color:"var(--text-muted)"},children:"Charged with: "}),d.caseData.charge]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto flex flex-col py-2",children:d.messages.map(e=>(0,t.jsx)(i.MessageBubble,{message:e},e.id))})]})}e.s(["default",()=>o])}]);