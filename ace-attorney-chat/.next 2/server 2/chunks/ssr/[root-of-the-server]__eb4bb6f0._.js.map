{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../app/leaderboard/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\nimport { createClient } from \"@/src/lib/supabase/client\";\nimport type { LeaderboardEntry } from \"@/src/state/types\";\n\nexport default function LeaderboardPage() {\n  const router = useRouter();\n  const supabase = createClient();\n  const [entries, setEntries] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [currentUserId, setCurrentUserId] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function load() {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (user) setCurrentUserId(user.id);\n\n      const { data, error } = await supabase\n        .from(\"leaderboard\")\n        .select(\"*\")\n        .limit(50);\n\n      if (!error && data) {\n        setEntries(data as unknown as LeaderboardEntry[]);\n      }\n      setLoading(false);\n    }\n    load();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"flex flex-col h-dvh\" style={{ background: \"var(--bg)\" }}>\n      {/* Header */}\n      <div className=\"flex items-center gap-3 px-5 py-3.5 shrink-0\" style={{ borderBottom: \"1px solid rgba(255,255,255,0.06)\" }}>\n        <button\n          onClick={() => router.push(\"/\")}\n          className=\"text-sm px-3.5 py-1.5 rounded-full border cursor-pointer hover:bg-white/5 transition-all duration-150\"\n          style={{ borderColor: \"var(--chip-border)\", color: \"var(--text-secondary)\" }}\n        >\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"inline mr-1 -mt-0.5\"><path d=\"M19 12H5M12 19l-7-7 7-7\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n          Back\n        </button>\n        <h1 className=\"text-sm font-medium text-white flex-1\">Leaderboard</h1>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto\">\n        {loading ? (\n          <div className=\"flex items-center justify-center py-20\">\n            <div className=\"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin\" style={{ borderColor: \"var(--primary)\", borderTopColor: \"transparent\" }} />\n          </div>\n        ) : entries.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-20 gap-3\">\n            <p className=\"text-sm\" style={{ color: \"var(--text-muted)\" }}>No players on the board yet.</p>\n            <p className=\"text-xs\" style={{ color: \"var(--text-muted)\" }}>Play a game to get ranked.</p>\n          </div>\n        ) : (\n          <div className=\"px-5 py-4\">\n            {/* Column headers */}\n            <div className=\"flex items-center gap-3 px-4 pb-3 mb-1\" style={{ borderBottom: \"1px solid rgba(255,255,255,0.06)\" }}>\n              <span className=\"w-8 text-[10px] font-medium tracking-wider\" style={{ color: \"var(--text-muted)\" }}>#</span>\n              <span className=\"flex-1 text-[10px] font-medium tracking-wider\" style={{ color: \"var(--text-muted)\" }}>PLAYER</span>\n              <span className=\"w-16 text-[10px] font-medium tracking-wider text-right\" style={{ color: \"var(--text-muted)\" }}>W/L</span>\n              <span className=\"w-14 text-[10px] font-medium tracking-wider text-right\" style={{ color: \"var(--text-muted)\" }}>RATE</span>\n              <span className=\"w-16 text-[10px] font-medium tracking-wider text-right\" style={{ color: \"var(--text-muted)\" }}>SCORE</span>\n            </div>\n\n            {entries.map((entry, idx) => {\n              const isMe = entry.id === currentUserId;\n              return (\n                <motion.div\n                  key={entry.id}\n                  initial={{ opacity: 0, y: 6 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: idx * 0.02 }}\n                  className=\"flex items-center gap-3 px-4 py-3 rounded-xl mb-1 transition-all\"\n                  style={{\n                    background: isMe ? \"rgba(255,56,92,0.08)\" : idx < 3 ? \"rgba(224,185,122,0.04)\" : \"transparent\",\n                  }}\n                >\n                  <span\n                    className=\"w-8 text-sm font-semibold tabular-nums\"\n                    style={{ color: idx < 3 ? \"var(--accent)\" : \"var(--text-muted)\" }}\n                  >\n                    {entry.rank}\n                  </span>\n                  <span\n                    className=\"flex-1 text-sm font-medium truncate\"\n                    style={{ color: isMe ? \"var(--primary)\" : \"var(--text-primary)\" }}\n                  >\n                    {entry.display_name}\n                    {isMe && (\n                      <span className=\"text-[10px] ml-1.5 font-normal\" style={{ color: \"var(--text-muted)\" }}>(you)</span>\n                    )}\n                  </span>\n                  <span className=\"w-16 text-sm tabular-nums text-right\" style={{ color: \"var(--text-secondary)\" }}>\n                    {entry.wins}/{entry.losses}\n                  </span>\n                  <span className=\"w-14 text-sm tabular-nums text-right\" style={{ color: \"var(--text-secondary)\" }}>\n                    {entry.win_rate}%\n                  </span>\n                  <span className=\"w-16 text-sm font-semibold tabular-nums text-right\" style={{ color: \"var(--text-primary)\" }}>\n                    {entry.total_score.toLocaleString()}\n                  </span>\n                </motion.div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}