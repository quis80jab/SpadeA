module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(46271),f=a.i(89958),g=a.i(72706),h=a.i(64262);async function i(){let a=JSON.parse(await (0,h.callCaseCreator)());if(!a.title||!a.charge||!a.context)throw Error("Invalid case data: missing required fields");if(!a.attorney_points||!a.defendant_points||0===a.attorney_points.length||0===a.defendant_points.length)throw Error("Invalid case data: missing argument points");if(!a.opening_statement)throw Error("Invalid case data: missing opening statement");return a.attorney_points=a.attorney_points.map(a=>({...a,status:a.status||"unchallenged"})),a.defendant_points=a.defendant_points.map(a=>({...a,status:a.status||"unchallenged"})),a}var j=a.i(62036);let k={won:{label:"Won",color:"#34D399",bg:"rgba(52,211,153,0.12)"},lost:{label:"Lost",color:"#F87171",bg:"rgba(248,113,113,0.12)"},"in-progress":{label:"In Progress",color:"#E0B97A",bg:"rgba(224,185,122,0.12)"}};function l({argument:a,onView:c,onToggleStar:d,index:f}){let g=k[a.outcome]??k["in-progress"];return(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.04*f,duration:.25},className:"rounded-2xl p-5 cursor-pointer transition-all duration-150 hover:bg-white/[0.03] active:scale-[0.99]",style:{background:"var(--bg-light)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},onClick:()=>c(a.id),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white truncate",children:a.caseData.title}),(0,b.jsx)("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:a.caseData.charge})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),d(a.id)},className:"shrink-0 cursor-pointer p-1.5 -m-1 rounded-full hover:bg-white/5 transition-colors",title:a.starred?"Unstar":"Star",children:a.starred?(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#E0B97A",children:(0,b.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}):(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#717171",strokeWidth:"1.5",children:(0,b.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,b.jsx)("span",{className:"text-[10px] font-medium tracking-wide px-2.5 py-1 rounded-full",style:{color:g.color,background:g.bg},children:g.label}),(0,b.jsxs)("span",{className:"text-[11px]",style:{color:"var(--text-muted)"},children:[a.exchangeCount," exchanges"]}),(0,b.jsx)("span",{className:"text-[11px]",style:{color:"var(--text-muted)"},children:new Date(a.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}function m({onViewArgument:a}){let[d,f]=(0,c.useState)("recent"),{arguments:h,toggleStar:i,hydrate:k}=(0,g.useHistoryStore)();(0,c.useEffect)(()=>{k()},[k]);let m="starred"===d?h.filter(a=>a.starred):h;return(0,b.jsxs)("div",{className:"flex flex-col flex-1 min-h-0",children:[(0,b.jsx)("div",{className:"flex gap-6 px-8 mb-4",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["recent","starred"].map(a=>(0,b.jsxs)("button",{onClick:()=>f(a),className:"relative pb-2.5 text-xs font-medium tracking-wider uppercase transition-colors duration-150 cursor-pointer",style:{color:d===a?"var(--text-primary)":"var(--text-muted)"},children:["recent"===a?"Recent":"Starred",d===a&&(0,b.jsx)(e.motion.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-[2px] rounded-full",style:{background:"var(--text-primary)"},transition:{duration:.2}})]},a))}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:(0,b.jsx)(j.AnimatePresence,{mode:"popLayout",children:0===m.length?(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-16 gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",style:{color:"var(--text-muted)"},children:(0,b.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,b.jsx)("path",{d:"M3 6h18M3 12h18M3 18h18",strokeLinecap:"round"})})}),(0,b.jsx)("p",{className:"text-sm text-center",style:{color:"var(--text-muted)"},children:"starred"===d?"No starred arguments yet.":"No arguments yet. Enter the courtroom to begin."})]}):(0,b.jsx)("div",{className:"flex flex-col gap-3",children:m.map((c,d)=>(0,b.jsx)(l,{argument:c,onView:a,onToggleStar:i,index:d},c.id))})})})]})}var n=a.i(95445);function o(){let a=(0,d.useRouter)(),[h,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(null),{initCase:s,setGeneratingCase:t,reset:u}=(0,f.useArgumentStore)(),{setUserId:v,hydrate:w}=(0,g.useHistoryStore)();(0,c.useEffect)(()=>{!async function(){let a=(0,n.createClient)(),{data:{user:b}}=await a.auth.getUser();if(b){p(b.id),v(b.id);let{data:c}=await a.from("profiles").select("display_name").eq("id",b.id).single();c&&r(c.display_name)}await w()}()},[]);let x=(0,c.useCallback)(async()=>{if(!h){j(!0),l(null),t(!0),u();try{let b=await i();s(b),t(!1),a.push("/court-intro")}catch(a){t(!1),j(!1),l(a instanceof Error?a.message:"Failed to generate case")}}},[h,s,t,u,a]),y=(0,c.useCallback)(b=>{a.push(`/argument/${b}`)},[a]);return(0,b.jsxs)("div",{className:"flex flex-col h-dvh select-none",style:{background:"var(--bg)"},children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-center pt-10 pb-4 px-8 shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6 -mx-2",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("button",{onClick:()=>a.push("/leaderboard"),className:"text-xs px-3 py-1.5 rounded-full border cursor-pointer hover:bg-white/5 transition-all duration-150",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:"Leaderboard"})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:o?(0,b.jsxs)("button",{onClick:()=>a.push("/profile"),className:"flex items-center gap-2 text-xs px-3 py-1.5 rounded-full border cursor-pointer hover:bg-white/5 transition-all duration-150",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:[(0,b.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-semibold",style:{background:"var(--bg-card)",color:"var(--primary)"},children:(q??"?").charAt(0).toUpperCase()}),q??"Profile"]}):(0,b.jsx)("button",{onClick:()=>a.push("/login"),className:"text-xs px-3.5 py-1.5 rounded-full cursor-pointer transition-all duration-150 font-medium",style:{background:"var(--primary)",color:"white"},children:"Sign In"})})]}),(0,b.jsx)("p",{className:"text-[10px] tracking-[0.5em] font-medium mb-1",style:{color:"var(--accent)"},children:"ACE ATTORNEY"}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",style:{color:"var(--text-primary)"},children:"AI Courtroom"}),(0,b.jsx)("div",{className:"w-10 h-[2px] mx-auto mt-3 mb-3 rounded-full",style:{background:"var(--primary)"}}),(0,b.jsx)("p",{className:"text-sm leading-relaxed mb-6",style:{color:"var(--text-muted)"},children:"Where absurdity meets philosophy and justice is debatable"}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 w-full max-w-sm mx-auto",children:[h?(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 py-3",children:[(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"var(--primary)",borderTopColor:"transparent"}}),(0,b.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Preparing the case..."})]}):(0,b.jsx)("button",{onClick:x,className:"w-full py-3.5 px-8 rounded-full text-white text-sm font-semibold tracking-widest transition-all duration-200 hover:brightness-110 active:scale-[0.98] cursor-pointer",style:{background:"var(--primary)",boxShadow:"0 4px 20px rgba(255, 56, 92, 0.3)"},children:"ENTER THE COURTROOM"}),k&&(0,b.jsx)("p",{className:"text-xs text-center mt-1",style:{color:"var(--primary)"},children:k})]})]}),(0,b.jsx)("div",{className:"px-8 py-2 shrink-0",children:(0,b.jsx)("div",{className:"h-px",style:{background:"rgba(255,255,255,0.06)"}})}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"flex-1 min-h-0 flex flex-col",children:[(0,b.jsx)("h2",{className:"text-xs font-medium tracking-wider uppercase px-8 mb-3",style:{color:"var(--text-muted)"},children:"Past Arguments"}),(0,b.jsx)(m,{onViewArgument:y})]}),(0,b.jsx)("p",{className:"text-[10px] text-center py-3 shrink-0",style:{color:"var(--text-muted)"},children:"Powered by Claude AI"})]})}a.s(["default",()=>o],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8d80c2a6._.js.map