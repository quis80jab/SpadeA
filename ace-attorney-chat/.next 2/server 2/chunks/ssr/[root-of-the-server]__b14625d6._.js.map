{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../src/components/MessageBubble.tsx","../../../../src/components/HealthBar.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { Message } from \"@/src/state/types\";\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nexport function MessageBubble({ message }: MessageBubbleProps) {\n  const isAttorney = message.sender === \"attorney\";\n  const intensity = message.intensity ?? 1;\n\n  const scale = intensity >= 4 ? 1 + (intensity - 4) * 0.008 : 1;\n\n  return (\n    <motion.div\n      initial={\n        isAttorney\n          ? intensity >= 7\n            ? { opacity: 0, scale: 0.9 }\n            : { opacity: 0, x: -20 }\n          : { opacity: 0, x: 20 }\n      }\n      animate={{ opacity: 1, x: 0, scale: 1 }}\n      transition={{\n        duration: intensity >= 7 ? 0.4 : 0.3,\n        type: intensity >= 7 ? \"spring\" : \"tween\",\n      }}\n      className={`flex flex-col max-w-[82%] my-1.5 px-5 ${\n        isAttorney ? \"self-start\" : \"self-end\"\n      }`}\n    >\n      <span\n        className={`text-[10px] font-medium tracking-wider mb-1 ${\n          isAttorney ? \"text-left\" : \"text-right\"\n        }`}\n        style={{ color: isAttorney ? \"var(--primary)\" : \"var(--accent)\" }}\n      >\n        {isAttorney ? \"PROSECUTION\" : \"YOU\"}\n      </span>\n\n      <div\n        className={`rounded-2xl px-4 py-3.5 ${\n          isAttorney ? \"rounded-tl-md\" : \"rounded-tr-md\"\n        }`}\n        style={{\n          background: isAttorney ? \"var(--attorney-bubble)\" : \"var(--user-bubble)\",\n          transform: `scale(${scale})`,\n          boxShadow: \"0 1px 3px rgba(0,0,0,0.2)\",\n        }}\n      >\n        <p\n          className=\"text-[15px] leading-relaxed whitespace-pre-wrap\"\n          style={{ color: isAttorney ? \"var(--attorney-text)\" : \"var(--user-text)\" }}\n        >\n          {message.text}\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport type { HealthState } from \"@/src/state/types\";\n\ninterface HealthBarProps {\n  health: HealthState;\n  lastDamageToAttorney?: number;\n  lastDamageToDefendant?: number;\n}\n\nfunction getBarColor(hp: number, maxHP: number): string {\n  const pct = hp / maxHP;\n  if (pct > 0.6) return \"#22c55e\";  // green\n  if (pct > 0.35) return \"#eab308\"; // yellow\n  if (pct > 0.15) return \"#f97316\"; // orange\n  return \"#ef4444\";                  // red\n}\n\nfunction DamagePopup({ damage, side }: { damage: number; side: \"left\" | \"right\" }) {\n  if (damage <= 0) return null;\n  return (\n    <motion.span\n      initial={{ opacity: 1, y: 0 }}\n      animate={{ opacity: 0, y: -30 }}\n      transition={{ duration: 1.2 }}\n      className={`absolute top-0 text-sm font-black pointer-events-none ${\n        side === \"left\" ? \"left-2\" : \"right-2\"\n      }`}\n      style={{ color: \"#ef4444\", textShadow: \"0 0 8px rgba(239,68,68,0.6)\" }}\n    >\n      -{damage}\n    </motion.span>\n  );\n}\n\nexport function HealthBar({ health, lastDamageToAttorney = 0, lastDamageToDefendant = 0 }: HealthBarProps) {\n  const [damageKey, setDamageKey] = useState(0);\n\n  // Bump key to re-animate damage popups\n  useEffect(() => {\n    if (lastDamageToAttorney > 0 || lastDamageToDefendant > 0) {\n      setDamageKey((k) => k + 1);\n    }\n  }, [lastDamageToAttorney, lastDamageToDefendant]);\n\n  const attPct = (health.attorneyHP / health.maxHP) * 100;\n  const defPct = (health.defendantHP / health.maxHP) * 100;\n  const attColor = getBarColor(health.attorneyHP, health.maxHP);\n  const defColor = getBarColor(health.defendantHP, health.maxHP);\n\n  return (\n    <div className=\"flex items-center gap-3 px-5 py-2.5 shrink-0\" style={{ borderBottom: \"1px solid rgba(255,255,255,0.06)\" }}>\n      {/* Attorney bar (left, drains right-to-left) */}\n      <div className=\"flex-1 relative\">\n        <div className=\"flex items-center justify-between mb-1\">\n          <span className=\"text-[10px] font-medium tracking-wider\" style={{ color: \"var(--primary)\" }}>\n            PROSECUTION\n          </span>\n          <span className=\"text-[10px] font-medium tabular-nums\" style={{ color: attColor }}>\n            {health.attorneyHP}\n          </span>\n        </div>\n        <div className=\"h-2 rounded-full overflow-hidden\" style={{ background: \"rgba(255,255,255,0.06)\" }}>\n          <motion.div\n            className=\"h-full rounded-full\"\n            style={{ background: attColor, originX: 0 }}\n            animate={{ width: `${attPct}%` }}\n            transition={{ duration: 0.6, ease: \"easeOut\" }}\n          />\n        </div>\n        <AnimatePresence mode=\"popLayout\">\n          {lastDamageToAttorney > 0 && (\n            <DamagePopup key={`att-${damageKey}`} damage={lastDamageToAttorney} side=\"left\" />\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* VS divider */}\n      <div className=\"flex flex-col items-center shrink-0 px-1\">\n        <span className=\"text-[9px] font-semibold tracking-widest\" style={{ color: \"var(--text-muted)\" }}>\n          VS\n        </span>\n      </div>\n\n      {/* Defendant bar (right, drains left-to-right) */}\n      <div className=\"flex-1 relative\">\n        <div className=\"flex items-center justify-between mb-1\">\n          <span className=\"text-[10px] font-medium tabular-nums\" style={{ color: defColor }}>\n            {health.defendantHP}\n          </span>\n          <span className=\"text-[10px] font-medium tracking-wider\" style={{ color: \"var(--accent)\" }}>\n            DEFENSE\n          </span>\n        </div>\n        <div className=\"h-2 rounded-full overflow-hidden\" style={{ background: \"rgba(255,255,255,0.06)\" }}>\n          <motion.div\n            className=\"h-full rounded-full ml-auto\"\n            style={{ background: defColor, originX: 1 }}\n            animate={{ width: `${defPct}%` }}\n            transition={{ duration: 0.6, ease: \"easeOut\" }}\n          />\n        </div>\n        <AnimatePresence mode=\"popLayout\">\n          {lastDamageToDefendant > 0 && (\n            <DamagePopup key={`def-${damageKey}`} damage={lastDamageToDefendant} side=\"right\" />\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n\n// Read-only version for argument viewer\nexport function HealthBarStatic({ health }: { health: HealthState }) {\n  const attPct = (health.attorneyHP / health.maxHP) * 100;\n  const defPct = (health.defendantHP / health.maxHP) * 100;\n  const attColor = getBarColor(health.attorneyHP, health.maxHP);\n  const defColor = getBarColor(health.defendantHP, health.maxHP);\n\n  return (\n    <div className=\"flex items-center gap-3 px-5 py-2.5\" style={{ borderBottom: \"1px solid rgba(255,255,255,0.06)\" }}>\n      <div className=\"flex-1\">\n        <div className=\"flex items-center justify-between mb-1\">\n          <span className=\"text-[10px] font-medium tracking-wider\" style={{ color: \"var(--primary)\" }}>PROSECUTION</span>\n          <span className=\"text-[10px] font-medium tabular-nums\" style={{ color: attColor }}>{health.attorneyHP}</span>\n        </div>\n        <div className=\"h-2 rounded-full overflow-hidden\" style={{ background: \"rgba(255,255,255,0.06)\" }}>\n          <div className=\"h-full rounded-full\" style={{ background: attColor, width: `${attPct}%` }} />\n        </div>\n      </div>\n      <span className=\"text-[9px] font-semibold tracking-widest shrink-0 px-1\" style={{ color: \"var(--text-muted)\" }}>VS</span>\n      <div className=\"flex-1\">\n        <div className=\"flex items-center justify-between mb-1\">\n          <span className=\"text-[10px] font-medium tabular-nums\" style={{ color: defColor }}>{health.defendantHP}</span>\n          <span className=\"text-[10px] font-medium tracking-wider\" style={{ color: \"var(--accent)\" }}>DEFENSE</span>\n        </div>\n        <div className=\"h-2 rounded-full overflow-hidden\" style={{ background: \"rgba(255,255,255,0.06)\" }}>\n          <div className=\"h-full rounded-full ml-auto\" style={{ background: defColor, width: `${defPct}%` }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}