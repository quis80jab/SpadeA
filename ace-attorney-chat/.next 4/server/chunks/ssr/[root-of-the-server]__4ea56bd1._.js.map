{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../app/court-intro/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useArgumentStore } from \"@/src/state/argumentStore\";\n\ninterface IntroLine {\n  text: string;\n  style: \"label\" | \"title\" | \"charge\" | \"context\" | \"tension\";\n  delay: number;\n}\n\nexport default function CourtIntro() {\n  const router = useRouter();\n  const { caseData, setPhase } = useArgumentStore();\n  const [visibleLines, setVisibleLines] = useState(0);\n  const [allRevealed, setAllRevealed] = useState(false);\n\n  const lines: IntroLine[] = caseData\n    ? [\n        { text: \"COURT IS NOW IN SESSION\", style: \"label\", delay: 0 },\n        { text: caseData.title, style: \"title\", delay: 800 },\n        { text: caseData.charge, style: \"charge\", delay: 1800 },\n        { text: caseData.context, style: \"context\", delay: 3000 },\n        { text: `\\u201C${caseData.philosophical_tension}\\u201D`, style: \"tension\", delay: 4500 },\n      ]\n    : [];\n\n  useEffect(() => {\n    if (!caseData) {\n      router.replace(\"/\");\n      return;\n    }\n\n    const timers: ReturnType<typeof setTimeout>[] = [];\n\n    lines.forEach((line, idx) => {\n      timers.push(\n        setTimeout(() => {\n          setVisibleLines((v) => Math.max(v, idx + 1));\n        }, line.delay)\n      );\n    });\n\n    // Mark all lines as revealed after the last one appears\n    const lastDelay = lines[lines.length - 1]?.delay ?? 0;\n    timers.push(\n      setTimeout(() => {\n        setAllRevealed(true);\n      }, lastDelay + 600)\n    );\n\n    return () => timers.forEach(clearTimeout);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [caseData]);\n\n  const handleBeginTrial = () => {\n    router.push(\"/evidence-select\");\n  };\n\n  if (!caseData) return null;\n\n  const styleMap: Record<IntroLine[\"style\"], string> = {\n    label: \"text-xs tracking-[0.4em] font-semibold\",\n    title: \"text-2xl md:text-3xl font-semibold tracking-wide text-white\",\n    charge: \"text-base md:text-lg font-medium italic\",\n    context: \"text-sm leading-relaxed\",\n    tension: \"text-sm md:text-base italic leading-relaxed\",\n  };\n\n  const colorMap: Record<IntroLine[\"style\"], string> = {\n    label: \"var(--accent)\",\n    title: \"var(--text-primary)\",\n    charge: \"var(--primary)\",\n    context: \"var(--text-secondary)\",\n    tension: \"var(--accent)\",\n  };\n\n  return (\n    <div\n      className=\"flex flex-col h-dvh select-none\"\n      style={{ background: \"var(--bg)\" }}\n    >\n      {/* Text content — centered in available space */}\n      <div className=\"flex-1 flex flex-col items-center justify-center px-8\">\n        <div className=\"flex flex-col items-center gap-7 max-w-lg\">\n          <AnimatePresence>\n            {lines.slice(0, visibleLines).map((line, idx) => (\n              <motion.div\n                key={idx}\n                initial={line.style === \"title\" ? { opacity: 0, scale: 0.95 } : { opacity: 0, y: 16 }}\n                animate={line.style === \"title\" ? { opacity: 1, scale: 1 } : { opacity: 1, y: 0 }}\n                transition={{\n                  duration: line.style === \"title\" ? 0.6 : 0.5,\n                  type: line.style === \"title\" ? \"spring\" : \"tween\",\n                }}\n                className=\"text-center\"\n              >\n                <p className={styleMap[line.style]} style={{ color: colorMap[line.style] }}>\n                  {line.text}\n                </p>\n                {line.style === \"title\" && (\n                  <motion.div\n                    initial={{ width: 0 }}\n                    animate={{ width: 64 }}\n                    transition={{ delay: 0.3, duration: 0.4 }}\n                    className=\"h-[2px] mx-auto mt-3 rounded-full\"\n                    style={{ background: \"var(--primary)\" }}\n                  />\n                )}\n              </motion.div>\n            ))}\n          </AnimatePresence>\n        </div>\n      </div>\n\n      {/* Begin Trial button — pinned to bottom with proper spacing */}\n      <AnimatePresence>\n        {allRevealed && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\n            className=\"shrink-0 flex justify-center px-8 pb-12 pt-6\"\n          >\n            <button\n              onClick={handleBeginTrial}\n              className=\"px-10 py-3.5 rounded-full text-white text-sm font-semibold tracking-widest\n                         transition-all duration-200 hover:brightness-110 active:scale-[0.97] cursor-pointer\"\n              style={{\n                background: \"var(--primary)\",\n                boxShadow: \"0 4px 24px rgba(255,56,92,0.35)\",\n              }}\n            >\n              BEGIN TRIAL\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}