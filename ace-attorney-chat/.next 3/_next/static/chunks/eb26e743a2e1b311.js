(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2153,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(46932),l=e.i(11795);let o={won:{label:"Won",color:"#34D399",bg:"rgba(52,211,153,0.12)"},lost:{label:"Lost",color:"#F87171",bg:"rgba(248,113,113,0.12)"}};function i(){let e=(0,s.useRouter)(),i=(0,l.createClient)(),[n,c]=(0,r.useState)(null),[d,u]=(0,r.useState)([]),[m,x]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{!async function(){let{data:{user:t}}=await i.auth.getUser();if(!t)return e.replace("/login");let{data:r}=await i.from("profiles").select("*").eq("id",t.id).single();r&&c(r);let{data:s}=await i.from("arguments").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);s&&u(s.map(e=>({id:e.id,user_id:e.user_id,caseData:e.case_data,messages:e.messages,outcome:e.outcome,finalHealth:e.final_health,exchangeCount:e.exchange_count,score:e.score??0,starred:e.starred,is_public:e.is_public,createdAt:new Date(e.created_at).getTime()}))),x(!1)}()},[]),m)return(0,t.jsx)("div",{className:"flex items-center justify-center h-dvh",style:{background:"var(--bg)"},children:(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin",style:{borderColor:"var(--primary)",borderTopColor:"transparent"}})});if(!n)return null;let p=n.wins+n.losses>0?Math.round(n.wins/(n.wins+n.losses)*100):0;return(0,t.jsxs)("div",{className:"flex flex-col h-dvh",style:{background:"var(--bg)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-5 py-3.5 shrink-0",style:{borderBottom:"1px solid var(--border-subtle)"},children:[(0,t.jsxs)("button",{onClick:()=>e.push("/"),className:"text-sm px-3.5 py-1.5 rounded-full border cursor-pointer transition-all duration-150",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"inline mr-1 -mt-0.5",children:(0,t.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),(0,t.jsx)("h1",{className:"text-sm font-medium flex-1",style:{color:"var(--text-primary)"},children:"Profile"}),(0,t.jsx)("button",{onClick:()=>e.push("/settings"),className:"text-xs px-3.5 py-1.5 rounded-full border cursor-pointer transition-all duration-150",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:"Settings"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"px-6 pt-8 pb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-semibold overflow-hidden",style:{background:"var(--bg-card)",color:"var(--primary)"},children:n.avatar_url?(0,t.jsx)("img",{src:n.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):n.display_name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:n.display_name}),(0,t.jsxs)("p",{className:"text-xs mt-0.5",style:{color:"var(--text-muted)"},children:["Joined ",new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{label:"Score",value:n.total_score.toLocaleString()},{label:"Wins",value:n.wins.toString()},{label:"Losses",value:n.losses.toString()},{label:"Win Rate",value:`${p}%`}].map(e=>(0,t.jsxs)("div",{className:"rounded-xl p-3 text-center",style:{background:"var(--bg-light)"},children:[(0,t.jsx)("p",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:e.value}),(0,t.jsx)("p",{className:"text-[10px] mt-0.5",style:{color:"var(--text-muted)"},children:e.label})]},e.label))})]}),(0,t.jsx)("div",{className:"px-6 pb-2",children:(0,t.jsx)("div",{className:"h-px",style:{background:"var(--border-subtle)"}})}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[(0,t.jsx)("h3",{className:"text-xs font-medium tracking-wider uppercase mb-3",style:{color:"var(--text-muted)"},children:"Recent Arguments"}),0===d.length?(0,t.jsx)("p",{className:"text-sm py-8 text-center",style:{color:"var(--text-muted)"},children:"No arguments yet. Enter the courtroom to begin."}):(0,t.jsx)("div",{className:"flex flex-col gap-2.5",children:d.map((r,s)=>{let l=o[r.outcome]??o.lost;return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.03*s},className:"rounded-xl p-4 flex items-center gap-3 cursor-pointer transition-all hover:brightness-[0.97]",style:{background:"var(--bg-light)"},onClick:()=>e.push(`/argument/${r.id}`),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:r.caseData.title}),(0,t.jsxs)("p",{className:"text-[11px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:[r.exchangeCount," rounds · +",r.score," pts",r.is_public&&" · Public"]})]}),(0,t.jsx)("span",{className:"text-[10px] font-medium tracking-wide px-2.5 py-1 rounded-full shrink-0",style:{color:l.color,background:l.bg},children:l.label}),r.is_public&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(`${window.location.origin}/a/${r.id}`)},className:"text-xs px-2.5 py-1 rounded-full border cursor-pointer hover:brightness-95 transition-all shrink-0",style:{borderColor:"var(--chip-border)",color:"var(--text-muted)"},title:"Copy share link",children:"Share"})]},r.id)})})]})]})]})}e.s(["default",()=>i])}]);