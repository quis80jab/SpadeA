(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),o=e.i(31178),n=e.i(47414),i=e.i(74008),s=e.i(21476),l=e.i(72846),a=r,c=e.i(37806);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,o=(0,l.isHTMLElement)(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left,n.bottom=o-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:o,anchorX:n,anchorY:i,root:s,pop:l}){let p=(0,a.useId)(),h=(0,a.useRef)(null),m=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:x}=(0,a.useContext)(c.MotionConfigContext),f=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,o=e.map(e=>{let o=u(e,t);return r||"function"!=typeof o||(r=!0),o});if(r)return()=>{for(let t=0;t<o.length;t++){let r=o[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(h,e.props?.ref??e?.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:a,right:c,bottom:u}=m.current;if(o||!1===l||!h.current||!e||!t)return;let d="left"===n?`left: ${a}`:`right: ${c}`,f="bottom"===i?`bottom: ${u}`:`top: ${r}`;h.current.dataset.motionPopId=p;let y=document.createElement("style");x&&(y.nonce=x);let g=s??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            ${f}px !important;
          }
        `),()=>{g.contains(y)&&g.removeChild(y)}},[o]),(0,t.jsx)(d,{isPresent:o,childRef:h,sizeRef:m,pop:l,children:!1===l?e:a.cloneElement(e,{ref:f})})}let h=({children:e,initial:o,isPresent:i,onExitComplete:l,custom:a,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:h,root:x})=>{let f=(0,n.useConstant)(m),y=(0,r.useId)(),g=!0,b=(0,r.useMemo)(()=>(g=!1,{id:y,initial:o,isPresent:i,custom:a,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[i,f,l]);return c&&g&&(b={...b}),(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),r.useEffect(()=>{i||f.size||!l||l()},[i]),e=(0,t.jsx)(p,{pop:"popLayout"===u,isPresent:i,anchorX:d,anchorY:h,root:x,children:e}),(0,t.jsx)(s.PresenceContext.Provider,{value:b,children:e})};function m(){return new Map}var x=e.i(64978);let f=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:s,initial:l=!0,onExitComplete:a,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:p="left",anchorY:m="top",root:g})=>{let[b,v]=(0,x.usePresence)(d),w=(0,r.useMemo)(()=>y(e),[e]),j=d&&!b?[]:w.map(f),C=(0,r.useRef)(!0),k=(0,r.useRef)(w),N=(0,n.useConstant)(()=>new Map),P=(0,r.useRef)(new Set),[S,E]=(0,r.useState)(w),[R,A]=(0,r.useState)(w);(0,i.useIsomorphicLayoutEffect)(()=>{C.current=!1,k.current=w;for(let e=0;e<R.length;e++){let t=f(R[e]);j.includes(t)?(N.delete(t),P.current.delete(t)):!0!==N.get(t)&&N.set(t,!1)}},[R,j.length,j.join("-")]);let L=[];if(w!==S){let e=[...w];for(let t=0;t<R.length;t++){let r=R[t],o=f(r);j.includes(o)||(e.splice(t,0,r),L.push(r))}return"wait"===u&&L.length&&(e=L),A(y(e)),E(w),null}let{forceRender:M}=(0,r.useContext)(o.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:R.map(e=>{let r=f(e),o=(!d||!!b)&&(w===R||j.includes(r));return(0,t.jsx)(h,{isPresent:o,initial:(!C.current||!!l)&&void 0,custom:s,presenceAffectsLayout:c,mode:u,root:g,onExitComplete:o?void 0:()=>{if(P.current.has(r)||(P.current.add(r),!N.has(r)))return;N.set(r,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(M?.(),A(k.current),d&&v?.(),a&&a())},anchorX:p,anchorY:m,children:e},r)})})};e.s(["AnimatePresence",()=>g],88653)},89954,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566),n=e.i(46932),i=e.i(88653),s=e.i(11795);function l(){let e=(0,o.useRouter)(),[l,a]=(0,r.useState)("idle"),[c,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),[y,g]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[w,j]=(0,r.useState)(null),C=(0,r.useRef)(null),k=(0,s.createClient)();(0,r.useEffect)(()=>{"idle"!==l&&C.current&&setTimeout(()=>C.current?.focus(),350)},[l]);let N=async t=>{if(t.preventDefault(),c&&d){if("signup"===l&&d!==h)return void v("Passwords don’t match.");if(g(!0),v(null),j(null),"signup"===l){let{error:e}=await k.auth.signUp({email:c,password:d,options:{data:{display_name:x.trim()||c.split("@")[0]},emailRedirectTo:`${window.location.origin}/auth/callback`}});e?v(e.message):j("Check your email to confirm your account, then log in.")}else{let{error:t}=await k.auth.signInWithPassword({email:c,password:d});t?v(t.message):(e.push("/"),e.refresh())}g(!1)}},P=e=>{a(e),v(null),j(null)},S="idle"!==l,E="signup"===l;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-dvh px-6 select-none",style:{background:"var(--bg)"},children:[(0,t.jsxs)(n.motion.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>e.push("/"),className:"absolute top-6 left-6 text-xs cursor-pointer px-3.5 py-1.5 rounded-full border hover:brightness-95 transition-all",style:{borderColor:"var(--chip-border)",color:"var(--text-secondary)"},children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"inline mr-1 -mt-0.5",children:(0,t.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),"Home"]}),(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[(0,t.jsx)("p",{className:"text-[10px] tracking-[0.5em] font-medium mb-1",style:{color:"var(--accent)"},children:"ACE ATTORNEY"}),(0,t.jsx)("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"AI Courtroom"})]}),(0,t.jsx)(n.motion.div,{layout:!0,className:"w-full max-w-sm",transition:{layout:{duration:.35,ease:[.32,.72,0,1]}},children:(0,t.jsx)(i.AnimatePresence,{mode:"wait",children:S?(0,t.jsxs)(n.motion.div,{initial:{opacity:0,scale:.95,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:8},transition:{duration:.3,ease:[.32,.72,0,1]},className:"rounded-2xl p-6",style:{background:"var(--bg-light)",border:"1px solid var(--border-subtle)",boxShadow:"0 8px 40px rgba(0,0,0,0.4)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,t.jsx)("h2",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:E?"Create Account":"Welcome Back"}),(0,t.jsx)("button",{onClick:()=>P("idle"),className:"p-1.5 -m-1 rounded-full hover:brightness-90 cursor-pointer transition-colors",style:{color:"var(--text-muted)"},children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M12 4L4 12M4 4l8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),(0,t.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-2.5",children:[(0,t.jsx)(i.AnimatePresence,{children:E&&(0,t.jsx)(n.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"overflow-hidden",children:(0,t.jsx)("input",{type:"text",placeholder:"Display Name",value:x,onChange:e=>f(e.target.value),className:"w-full rounded-xl px-4 py-3 text-[16px] border outline-none placeholder:text-[var(--text-muted)] transition-colors duration-150 mb-2.5",style:{background:"var(--bg)",borderColor:"var(--border-subtle)",color:"var(--text-primary)"}})})}),(0,t.jsx)("input",{ref:C,type:"email",placeholder:"Email",value:c,onChange:e=>u(e.target.value),required:!0,className:"w-full rounded-xl px-4 py-3 text-[16px] border outline-none placeholder:text-[var(--text-muted)] transition-colors duration-150",style:{background:"var(--bg)",borderColor:"var(--border-subtle)",color:"var(--text-primary)"}}),(0,t.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:e=>p(e.target.value),required:!0,minLength:6,className:"w-full rounded-xl px-4 py-3 text-[16px] border outline-none placeholder:text-[var(--text-muted)] transition-colors duration-150",style:{background:"var(--bg)",borderColor:"var(--border-subtle)",color:"var(--text-primary)"}}),(0,t.jsx)(i.AnimatePresence,{children:E&&(0,t.jsx)(n.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"overflow-hidden",children:(0,t.jsx)("input",{type:"password",placeholder:"Confirm Password",value:h,onChange:e=>m(e.target.value),required:!0,minLength:6,className:"w-full rounded-xl px-4 py-3 text-[16px] border outline-none placeholder:text-[var(--text-muted)] transition-colors duration-150",style:{background:"var(--bg)",borderColor:"var(--border-subtle)",color:"var(--text-primary)"}})})}),(0,t.jsx)("button",{type:"submit",disabled:y,className:"w-full py-3 rounded-xl text-white text-sm font-semibold tracking-wide mt-1 transition-all duration-200 hover:brightness-110 active:scale-[0.98] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"var(--primary)"},children:y?"...":E?"Create Account":"Sign In"})]}),b&&(0,t.jsx)("p",{className:"text-xs text-center mt-3",style:{color:"var(--primary)"},children:b}),w&&(0,t.jsx)("p",{className:"text-xs text-center mt-3",style:{color:"var(--take-that)"},children:w}),(0,t.jsxs)("p",{className:"text-xs text-center mt-4",style:{color:"var(--text-muted)"},children:[E?"Already have an account?":"Don’t have an account?"," ",(0,t.jsx)("button",{onClick:()=>P(E?"login":"signup"),className:"cursor-pointer underline",style:{color:"var(--text-secondary)"},children:E?"Sign in":"Sign up"})]})]},"expanded"):(0,t.jsxs)(n.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>P("login"),className:"w-full py-3 rounded-full text-sm font-semibold tracking-wide cursor-pointer transition-all duration-200 hover:brightness-110 active:scale-[0.98]",style:{border:"1.5px solid var(--selection-border)",background:"transparent",color:"var(--text-primary)"},children:"Sign In"}),(0,t.jsx)("button",{onClick:()=>P("signup"),className:"w-full py-3 rounded-full text-sm font-semibold tracking-wide cursor-pointer transition-all duration-200 hover:brightness-110 active:scale-[0.98]",style:{background:"var(--primary)",color:"white",boxShadow:"0 4px 20px rgba(255, 56, 92, 0.25)"},children:"Create Account"}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"text-xs cursor-pointer mt-2",style:{color:"var(--text-muted)"},children:"Continue without account"})]},"idle")})})]})}e.s(["default",()=>l])}]);